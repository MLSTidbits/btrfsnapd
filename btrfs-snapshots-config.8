.\" Automatically generated by Pandoc 3.1.3
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "BTRFS-SNAPSHOT-CONFIG" "8" "2025-06-12" "Management of Btrfs Snapshots" "Manual Page"
.hy
.SH NAME
.PP
\f[I]btrfs-snapshot\f[R] - Management of Btrfs Snapshots
.SH SYNOPSIS
.PP
\f[I]btrfs-snapshot\f[R] [create|delete|restore|list|version|help]
<options> arg\&...
.SH DESCRIPTION
.PP
\f[I]btrfs-snapshot\f[R] is a command-line utility for managing Btrfs
snapshots.
It allows users to create, delete, restore, and list snapshots of Btrfs
filesystems.
Snapshots are useful for backup and recovery purposes, as they capture
the state of the filesystem at a specific point in time.
.PP
Take the guesswork out of how to create/delete a snapshot or restore
from a snapshot.
The \f[I]btrfs-snapshot\f[R] utility simplifies the process and provides
additional options for managing snapshots.
.IP \[bu] 2
Create a snapshot before changes are made to installed package.
.IP \[bu] 2
Create a new snapshot on schedule.
.IP \[bu] 2
Delete the oldest snapshot based on how many you want to keep.
.IP \[bu] 2
Make restoring from a snapshot easier.
.SH CONFIGURATION
.PP
\f[I]btrfs-snapshot\f[R] is configured via the
\f[V]/etc/btrfs-snapshot.conf\f[R] file.
This file contains the configuration for the snapshot creation process,
including the source and target directories.
.SS SNAPSHOT_DIR
.PP
The directory where snapshots are stored.
This is should be a Btrfs subvolume that is used to hold snapshots.
If one does not exist, it need to be set first.
See \f[I]btrfs(8)\f[R] for more information on creating subvolumes.
.PP
   *   *   *   *   *
.PP
: Default: /.snapshots
.PP
   *   *   *   *   *
.PP
: Example: \f[V]SNAPSHOT_DIR=\[dq]/mnt/.snapshots\[dq]\f[R]
.SS DISTRO_NAME
.PP
The name of the distribution for which snapshots are being managed.
This is used to identify the snapshots in the list and when restoring.
.PP
   *   *   *   *   *
.PP
: Default is to let the utility determine the distribution name based on
the system.
.PP
   *   *   *   *   *
.PP
: Example: \f[V]DISTRO_NAME=\[dq]ubuntu\[dq]\f[R]
.SS SNAPSHOT_TYPE
.PP
The type of snapshot to create.
What general subvolume is being snapshot; in most cases this is the root
subvolume and should not be changed.
The options are \f[V]root\f[R], \f[V]home\f[R] or \f[V]log\f[R].
.PP
   *   *   *   *   *
.PP
: Default: \f[V]root\f[R]
.PP
   *   *   *   *   *
.PP
: Example: \f[V]SNAPSHOT_TYPE=\[dq]home\[dq]\f[R]
.SS SET_DATE
.PP
Whether to set the date in the snapshot name.
If set to \f[V]true\f[R], the snapshot name will include the date and
time of creation.
.PP
   *   *   *   *   *
.PP
: Default: \f[V]true\f[R]
.PP
   *   *   *   *   *
.PP
: Example: \f[V]SET_DATE=\[dq]false\[dq]\f[R]
.SS READ_ONLY
.PP
Whether to create the snapshot as read-only.
If set to \f[V]true\f[R], the snapshot will be created as read-only,
preventing any further modifications to the snapshot after creation.
This is useful for preserving the state of the filesystem without
allowing further modifications.
However, this can be changed later with the \f[V]-w\f[R] or
\f[V]--writeable\f[R] option.
.RS
.PP
\f[I]NOTE\f[R]: Booting from a read-only snapshot is not recommended, as
it may cause issues with the system.
.RE
.PP
   *   *   *   *   *
.PP
: Default: \f[V]false\f[R]
.PP
   *   *   *   *   *
.PP
: Example: \f[V]READ_ONLY=\[dq]true\[dq]\f[R]
.SS TOTAL_COUNT
.PP
The total number of snapshots to keep.
This is used to determine how many snapshots to retain before deleting
the oldest ones.
If set to \f[V]0\f[R], no snapshots will be deleted automatically.
BTRFS snapshots do take up space so it is recommended to keep a
reasonable number of snapshots to avoid running out of space on the
filesystem.
.PP
   *   *   *   *   *
.PP
: Default: \f[V]7\f[R]
.PP
   *   *   *   *   *
.PP
: Example: \f[V]TOTAL_COUNT=\[dq]5\[dq]\f[R]
.SH FILE
.PP
\f[V]/etc/btrfs-snapshot.conf\f[R]
.SH SEE ALSO
.PP
\f[I]btrfs(8)\f[R], \f[I]btrfs-snapshot(8)\f[R],
\f[I]btrfs-subvolume(8)\f[R]
.SH COPYRIGHT
.PP
This manual page is part of the \f[I]btrfs-snapshot\f[R] project, which
is released under the GPU Public License (GPL) version 3 or later.
For more information about the license go to
<https://www.gnu.org/licenses/gpl-3.0.html>.
.PP
Copyright (C) 2025 Michael Lee Schaecher <michaelleeschaecher@gmail.com>
.SH AUTHORS
Michael Lee Schaecher <michaelleeschaecher@gmail.com>.
